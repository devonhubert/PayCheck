{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/devonhubert/languages/javascript/react_native/PayCheck/screens/MainPage.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport firebase from 'firebase';\nimport InterfaceFrame from \"../components/InterfaceFrame\";\nimport GoalAdder from \"../components/GoalAdder\";\nimport Spacer from \"../components/Spacer\";\nimport GoalWindow from \"../components/GoalWindow\";\n\nvar styles = require(\"../Styles\");\n\nvar MainPage = function (_Component) {\n  _inherits(MainPage, _Component);\n\n  var _super = _createSuper(MainPage);\n\n  function MainPage() {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      goals: [],\n      keyIndex: 0,\n      moneyEarned: 0,\n      userName: 'No Name',\n      userEmail: 'No Email'\n    };\n\n    _this.doNothing = function () {};\n\n    _this.addTotalMoneyEarned = function (earned) {\n      console.log(\"Add Total Money Earned Called with earned = \" + earned);\n      var newTotal = _this.state.moneyEarned + earned;\n\n      _this.setState({\n        moneyEarned: newTotal\n      });\n\n      console.log(\"Money Earned Updated\");\n    };\n\n    _this.setGoalMoneyUsed = function (earned, oldTotal, key) {\n      var goals = _this.state.goals;\n\n      if (earned > _this.state.moneyEarned) {\n        Alert.alert(\"Not Enough Money\", \"You're too poor to add that amount... ðŸ˜¢\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }], {\n          cancelable: false\n        });\n      } else {\n        console.log(\"Set Goal Money Used Called with earned = \" + earned);\n        console.log(\"old total was: \" + oldTotal);\n        var newTotal = Number(oldTotal) + Number(earned);\n\n        for (var i = goals.length - 1; i >= 0; i--) {\n          if (goals[i][\"key\"] == key) {\n            goals[i][\"earned\"] = newTotal;\n            console.log(\"Goal updated with new total: \" + newTotal);\n          }\n        }\n\n        _this.addTotalMoneyEarned(-1 * earned);\n\n        console.log(\"Goal Money Used Updated for goal \" + key);\n      }\n\n      return goals;\n    };\n\n    _this.addGoal = function (goalName, moneyNeeded) {\n      if (isNaN(Number(moneyNeeded))) {\n        Alert.alert(\"Not a Number\", \"Please enter a valid number, you silly! ðŸ˜›\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }], {\n          cancelable: false\n        });\n      } else if (Number(moneyNeeded) <= 0) {\n        Alert.alert(\"Invalid Entry\", \"Any goal worth saving for will require an amount of money greater than 0!\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return console.log(\"OK Pressed\");\n          }\n        }], {\n          cancelable: false\n        });\n      } else {\n        var newGoal = [{\n          \"name\": goalName,\n          \"needed\": moneyNeeded,\n          \"earned\": \"0.0\",\n          \"key\": _this.state.keyIndex\n        }];\n\n        _this.setState({\n          goals: newGoal.concat(_this.state.goals),\n          keyIndex: _this.state.keyIndex + 1\n        });\n\n        console.log(\"Goal Added\");\n      }\n    };\n\n    _this.removeGoalWithKey = function (key) {\n      console.log(\"Removing goal with key: \" + key);\n      var goals = _this.state.goals;\n\n      for (var i = goals.length - 1; i >= 0; i--) {\n        if (goals[i][\"key\"] == key) {\n          goals.splice(i, 1);\n        }\n      }\n\n      return goals;\n    };\n\n    _this.removeGoal = function (key) {\n      _this.setState({\n        goals: _this.removeGoalWithKey(key)\n      });\n\n      console.log(\"Goal Removed\");\n    };\n\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var user = firebase.auth().currentUser;\n\n      if (user) {\n        firebase.database().ref('/users/' + user.uid + '/first_name').on('value', function (querySnapShot) {\n          var data = querySnapShot.val() ? querySnapShot.val() : {};\n          var name = data;\n\n          _this2.setState({\n            userName: name\n          });\n        });\n        firebase.database().ref('/users/' + user.uid + '/gmail').on('value', function (querySnapShot) {\n          var data = querySnapShot.val() ? querySnapShot.val() : {};\n          var gmail = data;\n\n          _this2.setState({\n            userEmail: gmail\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"App rendered. Current goal list is: \" + this.state.goals);\n      console.log(\"Current money earned is: \" + this.state.moneyEarned);\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 7\n        }\n      }, React.createElement(Spacer, {\n        numSpaces: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }\n      }), React.createElement(Image, {\n        source: require(\"../assets/logo.png\"),\n        style: styles.logoImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: {\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, \"Hello, \", this.state.userName, \"!\")), React.createElement(InterfaceFrame, {\n        returnMoneyEarned: this.addTotalMoneyEarned,\n        moneyEarned: this.state.moneyEarned,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }\n      }), React.createElement(Spacer, {\n        numSpaces: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 9\n        }\n      }), React.createElement(GoalAdder, {\n        addGoal: this.addGoal.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      }), React.createElement(GoalWindow, {\n        goals: this.state.goals,\n        removeGoal: this.removeGoal,\n        setGoalMoneyUsed: this.setGoalMoneyUsed,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: {\n          padding: 10,\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }\n      }, this.state.userEmail, \"   \"), React.createElement(Button, {\n        color: \"#234041\",\n        title: \"Sign Out\",\n        onPress: function onPress() {\n          return firebase.auth().signOut();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return MainPage;\n}(Component);\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/devonhubert/languages/javascript/react_native/PayCheck/screens/MainPage.js"],"names":["React","Component","firebase","InterfaceFrame","GoalAdder","Spacer","GoalWindow","styles","require","MainPage","state","goals","keyIndex","moneyEarned","userName","userEmail","doNothing","addTotalMoneyEarned","earned","console","log","newTotal","setState","setGoalMoneyUsed","oldTotal","key","Alert","alert","text","onPress","cancelable","Number","i","length","addGoal","goalName","moneyNeeded","isNaN","newGoal","concat","removeGoalWithKey","splice","removeGoal","user","auth","currentUser","database","ref","uid","on","querySnapShot","data","val","name","gmail","container","logoImage","padding","bind","flexDirection","alignItems","signOut"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { \n  View, Alert, Image, Button, Text\n} from 'react-native';\nimport firebase from 'firebase';\n\nimport InterfaceFrame from '../components/InterfaceFrame';\nimport GoalAdder from '../components/GoalAdder';\nimport Spacer from '../components/Spacer';\nimport GoalWindow from '../components/GoalWindow';\n\nconst styles = require('../Styles');\n\n//Main App\nclass MainPage extends Component {\n\n  //Load and save goals from database later\n\n  state = {\n    goals: [],\n    keyIndex: 0,\n    moneyEarned: 0,\n    userName: 'No Name',\n    userEmail: 'No Email',\n  };\n\n  doNothing = () => {\n\n  }\n\n  componentDidMount() {\n    var user = firebase.auth().currentUser;\n\n    if (user) {\n      firebase\n        .database()\n        .ref('/users/' + user.uid + '/first_name')\n        .on('value', querySnapShot => {\n          let data = querySnapShot.val() ? querySnapShot.val() : {};\n          let name = data;\n          this.setState({\n            userName: name,\n          });\n        });\n\n        firebase\n        .database()\n        .ref('/users/' + user.uid + '/gmail')\n        .on('value', querySnapShot => {\n          let data = querySnapShot.val() ? querySnapShot.val() : {};\n          let gmail = data;\n          this.setState({\n            userEmail: gmail,\n          });\n        });\n\n    } \n  }\n  \n  addTotalMoneyEarned = (earned) => {\n    console.log(\"Add Total Money Earned Called with earned = \" + earned);\n    let newTotal = this.state.moneyEarned + earned;\n    this.setState({\n      moneyEarned: newTotal,\n    });\n    console.log(\"Money Earned Updated\");\n  }\n\n  setGoalMoneyUsed = (earned, oldTotal, key) => {\n    let goals = this.state.goals;\n    \n    if(earned > this.state.moneyEarned) {\n      Alert.alert(\n        \"Not Enough Money\",\n        \"You're too poor to add that amount... ðŸ˜¢\",\n        [{text: \"OK\", onPress: () => console.log(\"OK Pressed\")}],\n        {cancelable: false}\n      );\n    } else {\n      console.log(\"Set Goal Money Used Called with earned = \" + earned);\n      console.log(\"old total was: \" + oldTotal);\n      let newTotal = Number(oldTotal) + Number(earned);\n    \n      for (var i = goals.length - 1; i >= 0; i--) {\n        if (goals[i][\"key\"] == key) {\n          goals[i][\"earned\"] = newTotal;\n          console.log(\"Goal updated with new total: \" + newTotal);\n        }\n      }\n      this.addTotalMoneyEarned(-1 * earned);\n      console.log(\"Goal Money Used Updated for goal \" + key);\n    }\n    return goals;\n  }\n  \n  addGoal = (goalName, moneyNeeded) => {\n    if(isNaN(Number(moneyNeeded))) {\n      Alert.alert(\n        \"Not a Number\",\n        \"Please enter a valid number, you silly! ðŸ˜›\",\n        [{text: \"OK\", onPress: () => console.log(\"OK Pressed\")}],\n        {cancelable: false}\n      );\n    } else if(Number(moneyNeeded) <= 0) {\n      Alert.alert(\n        \"Invalid Entry\",\n        \"Any goal worth saving for will require an amount of money greater than 0!\",\n        [{text: \"OK\", onPress: () => console.log(\"OK Pressed\")}],\n        {cancelable: false}\n      );\n    } else {\n      let newGoal = [{\n        \"name\": goalName, \n        \"needed\": moneyNeeded, \n        \"earned\":\"0.0\", \n        \"key\":this.state.keyIndex\n      }];\n\n      \n      this.setState({\n        goals: newGoal.concat(this.state.goals), \n        keyIndex: this.state.keyIndex + 1,\n      });\n      \n\n\n      console.log(\"Goal Added\");\n    }\n  }\n  \n  removeGoalWithKey = (key) => {\n    console.log(\"Removing goal with key: \" + key);\n    let goals = this.state.goals;\n    for (var i = goals.length - 1; i >= 0; i--) {\n      if (goals[i][\"key\"] == key) {\n        goals.splice(i, 1);\n      }\n    }\n    return goals;\n  }\n\n  removeGoal = (key) => {\n    this.setState({\n      goals: this.removeGoalWithKey(key),\n    });\n    console.log(\"Goal Removed\");\n  }\n  \n  render() {\n    \n    console.log(\"App rendered. Current goal list is: \" + this.state.goals);\n    console.log(\"Current money earned is: \" + this.state.moneyEarned);\n\n    return (\n      <View style={styles.container}>        \n        <Spacer numSpaces='3' />\n\n        <Image source={require('../assets/logo.png')} style={styles.logoImage} />\n\n        <View style={{padding:10}}>\n          <Text style={styles.text}>Hello, {this.state.userName}!</Text>\n        </View>\n        \n        <InterfaceFrame returnMoneyEarned={this.addTotalMoneyEarned} moneyEarned={this.state.moneyEarned}/>\n      \n        <Spacer numSpaces='1' />\n        \n        <GoalAdder addGoal={this.addGoal.bind(this)} />\n\n        <GoalWindow goals={this.state.goals} removeGoal={this.removeGoal} setGoalMoneyUsed={this.setGoalMoneyUsed}/>\n      \n        <View style={{padding:10, flexDirection:'row', alignItems:'center'}}>\n          <Text style={styles.text}>{this.state.userEmail}   </Text>\n          <Button \n            color=\"#234041\"\n            title='Sign Out'\n            onPress={() => firebase.auth().signOut()}\n          />\n        </View>\n        \n        \n      </View>\n    );\n  }\n}\n\nexport default MainPage;\n\n"]},"metadata":{},"sourceType":"module"}