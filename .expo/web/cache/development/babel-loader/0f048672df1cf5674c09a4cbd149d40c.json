{"ast":null,"code":"'use strict';\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPathParser = exports.urlToPathAndParams = exports.getParamsFromPath = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _pathToRegexp = require('path-to-regexp');\n\nvar _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);\n\nvar _NavigationActions = require(\"../NavigationActions\");\n\nvar _NavigationActions2 = _interopRequireDefault(_NavigationActions);\n\nvar _invariant = require(\"../utils/invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar queryString = require('query-string');\n\nvar getParamsFromPath = exports.getParamsFromPath = function (inputParams, pathMatch, pathMatchKeys) {\n  var params = pathMatch.slice(1).reduce(function (paramsOut, matchResult, i) {\n    var key = pathMatchKeys[i];\n\n    if (!key || key.asterisk) {\n      return paramsOut;\n    }\n\n    var paramName = key.name;\n    var decodedMatchResult = void 0;\n\n    if (matchResult) {\n      try {\n        decodedMatchResult = decodeURIComponent(matchResult);\n      } catch (e) {}\n    }\n\n    paramsOut[paramName] = decodedMatchResult || matchResult;\n    return paramsOut;\n  }, _extends({}, inputParams));\n  return params;\n};\n\nvar getRestOfPath = function getRestOfPath(pathMatch, pathMatchKeys) {\n  var rest = pathMatch[pathMatchKeys.findIndex(function (k) {\n    return k.asterisk;\n  }) + 1];\n  return rest;\n};\n\nvar urlToPathAndParams = exports.urlToPathAndParams = function (url, uriPrefix) {\n  var searchMatch = url.match(/^(.*)\\?(.*)$/);\n  var params = searchMatch ? queryString.parse(searchMatch[2]) : {};\n  var urlWithoutSearch = searchMatch ? searchMatch[1] : url;\n  var delimiter = uriPrefix || '://';\n  var path = urlWithoutSearch.split(delimiter)[1];\n\n  if (path === undefined) {\n    path = urlWithoutSearch;\n  }\n\n  if (path === '/') {\n    path = '';\n  }\n\n  if (path[path.length - 1] === '/') {\n    path = path.slice(0, -1);\n  }\n\n  return {\n    path: path,\n    params: params\n  };\n};\n\nvar createPathParser = exports.createPathParser = function (childRouters, routeConfigs, _ref) {\n  var _ref$paths = _ref.paths,\n      pathConfigs = _ref$paths === void 0 ? {} : _ref$paths,\n      disableRouteNamePaths = _ref.disableRouteNamePaths;\n  var pathsByRouteNames = {};\n  var paths = [];\n  Object.keys(childRouters).forEach(function (routeName) {\n    var pathPattern = void 0;\n\n    if (pathConfigs[routeName] !== undefined) {\n      pathPattern = pathConfigs[routeName];\n    } else {\n      pathPattern = routeConfigs[routeName].path;\n    }\n\n    if (pathPattern === undefined) {\n      pathPattern = disableRouteNamePaths ? null : routeName;\n    }\n\n    (0, _invariant2.default)(pathPattern === null || typeof pathPattern === 'string', \"Route path for \" + routeName + \" must be specified as a string, or null.\");\n    var isPathMatchable = pathPattern !== null;\n    var exactReKeys = [];\n    var exactRe = isPathMatchable ? (0, _pathToRegexp2.default)(pathPattern, exactReKeys) : null;\n    var extendedPathReKeys = [];\n    var isWildcard = pathPattern === '' || !isPathMatchable;\n    var extendedPathRe = (0, _pathToRegexp2.default)(isWildcard ? '*' : pathPattern + \"/*\", extendedPathReKeys);\n    pathsByRouteNames[routeName] = {\n      exactRe: exactRe,\n      exactReKeys: exactReKeys,\n      extendedPathRe: extendedPathRe,\n      extendedPathReKeys: extendedPathReKeys,\n      isWildcard: isWildcard,\n      toPath: pathPattern === null ? function () {\n        return '';\n      } : (0, _pathToRegexp.compile)(pathPattern)\n    };\n  });\n  paths = Object.entries(pathsByRouteNames);\n\n  var getActionForPathAndParams = function getActionForPathAndParams() {\n    var pathToResolve = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var inputParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(paths), _step; !(_step = _iterator()).done;) {\n      var _ref2 = _step.value;\n\n      var _ref3 = _slicedToArray(_ref2, 2);\n\n      var routeName = _ref3[0];\n      var path = _ref3[1];\n      var exactRe = path.exactRe,\n          exactReKeys = path.exactReKeys,\n          extendedPathRe = path.extendedPathRe,\n          extendedPathReKeys = path.extendedPathReKeys;\n      var childRouter = childRouters[routeName];\n      var exactMatch = exactRe && exactRe.exec(pathToResolve);\n\n      if (exactMatch && exactMatch.length) {\n        var extendedMatch = extendedPathRe && extendedPathRe.exec(pathToResolve);\n        var childAction = null;\n\n        if (extendedMatch && childRouter) {\n          var restOfPath = getRestOfPath(extendedMatch, extendedPathReKeys);\n          childAction = childRouter.getActionForPathAndParams(restOfPath, inputParams);\n        }\n\n        return _NavigationActions2.default.navigate({\n          routeName: routeName,\n          params: getParamsFromPath(inputParams, exactMatch, exactReKeys),\n          action: childAction\n        });\n      }\n    }\n\n    for (var _iterator2 = _createForOfIteratorHelperLoose(paths), _step2; !(_step2 = _iterator2()).done;) {\n      var _ref4 = _step2.value;\n\n      var _ref5 = _slicedToArray(_ref4, 2);\n\n      var _routeName = _ref5[0];\n      var _path = _ref5[1];\n      var _extendedPathRe = _path.extendedPathRe,\n          _extendedPathReKeys = _path.extendedPathReKeys;\n      var _childRouter = childRouters[_routeName];\n\n      var _extendedMatch = _extendedPathRe && _extendedPathRe.exec(pathToResolve);\n\n      if (_extendedMatch && _extendedMatch.length) {\n        var _restOfPath = getRestOfPath(_extendedMatch, _extendedPathReKeys);\n\n        var _childAction = null;\n\n        if (_childRouter) {\n          _childAction = _childRouter.getActionForPathAndParams(_restOfPath, inputParams);\n        }\n\n        if (!_childAction) {\n          continue;\n        }\n\n        return _NavigationActions2.default.navigate({\n          routeName: _routeName,\n          params: getParamsFromPath(inputParams, _extendedMatch, _extendedPathReKeys),\n          action: _childAction\n        });\n      }\n    }\n\n    return null;\n  };\n\n  var getPathAndParamsForRoute = function getPathAndParamsForRoute(route) {\n    var routeName = route.routeName,\n        params = route.params;\n    var childRouter = childRouters[routeName];\n    var _pathsByRouteNames$ro = pathsByRouteNames[routeName],\n        toPath = _pathsByRouteNames$ro.toPath,\n        exactReKeys = _pathsByRouteNames$ro.exactReKeys;\n    var subPath = toPath(params);\n    var nonPathParams = {};\n\n    if (params) {\n      Object.keys(params).filter(function (paramName) {\n        return !exactReKeys.find(function (k) {\n          return k.name === paramName;\n        });\n      }).forEach(function (paramName) {\n        nonPathParams[paramName] = params[paramName];\n      });\n    }\n\n    if (childRouter) {\n      var child = childRouter.getPathAndParamsForState(route);\n      return {\n        path: subPath ? subPath + \"/\" + child.path : child.path,\n        params: child.params ? _extends({}, nonPathParams, child.params) : nonPathParams\n      };\n    }\n\n    return {\n      path: subPath,\n      params: nonPathParams\n    };\n  };\n\n  return {\n    getActionForPathAndParams: getActionForPathAndParams,\n    getPathAndParamsForRoute: getPathAndParamsForRoute\n  };\n};","map":{"version":3,"sources":["/Users/devonhubert/languages/javascript/react_native/PayCheck/node_modules/@react-navigation/core/dist/routers/pathUtils.js"],"names":["Object","defineProperty","exports","value","createPathParser","urlToPathAndParams","getParamsFromPath","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_pathToRegexp","require","_pathToRegexp2","_interopRequireDefault","_NavigationActions","_NavigationActions2","_invariant","_invariant2","obj","__esModule","default","queryString","inputParams","pathMatch","pathMatchKeys","params","slice","reduce","paramsOut","matchResult","asterisk","paramName","name","decodedMatchResult","decodeURIComponent","e","getRestOfPath","rest","findIndex","k","url","uriPrefix","searchMatch","match","parse","urlWithoutSearch","delimiter","path","split","childRouters","routeConfigs","paths","pathConfigs","disableRouteNamePaths","pathsByRouteNames","keys","forEach","routeName","pathPattern","isPathMatchable","exactReKeys","exactRe","extendedPathReKeys","isWildcard","extendedPathRe","toPath","compile","entries","getActionForPathAndParams","pathToResolve","childRouter","exactMatch","exec","extendedMatch","childAction","restOfPath","navigate","action","_routeName","_path","_extendedPathRe","_extendedPathReKeys","_childRouter","_extendedMatch","_restOfPath","_childAction","getPathAndParamsForRoute","route","subPath","nonPathParams","filter","find","child","getPathAndParamsForState"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPathParser = exports.urlToPathAndParams = exports.getParamsFromPath = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* eslint-disable import/no-commonjs */\n\nvar _pathToRegexp = require('path-to-regexp');\n\nvar _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);\n\nvar _NavigationActions = require('../NavigationActions');\n\nvar _NavigationActions2 = _interopRequireDefault(_NavigationActions);\n\nvar _invariant = require('../utils/invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar queryString = require('query-string');\n\nvar getParamsFromPath = exports.getParamsFromPath = (inputParams, pathMatch, pathMatchKeys) => {\n  var params = pathMatch.slice(1).reduce(\n  // iterate over matched path params\n  (paramsOut, matchResult, i) => {\n    var key = pathMatchKeys[i];\n    if (!key || key.asterisk) {\n      return paramsOut;\n    }\n    var paramName = key.name;\n\n    var decodedMatchResult = void 0;\n    if (matchResult) {\n      try {\n        decodedMatchResult = decodeURIComponent(matchResult);\n      } catch (e) {\n        // ignore `URIError: malformed URI`\n      }\n    }\n\n    paramsOut[paramName] = decodedMatchResult || matchResult;\n    return paramsOut;\n  }, _extends({}, inputParams));\n  return params;\n};\nvar getRestOfPath = (pathMatch, pathMatchKeys) => {\n  var rest = pathMatch[pathMatchKeys.findIndex(k => k.asterisk) + 1];\n  return rest;\n};\n\nvar urlToPathAndParams = exports.urlToPathAndParams = (url, uriPrefix) => {\n  var searchMatch = url.match(/^(.*)\\?(.*)$/);\n  var params = searchMatch ? queryString.parse(searchMatch[2]) : {};\n  var urlWithoutSearch = searchMatch ? searchMatch[1] : url;\n  var delimiter = uriPrefix || '://';\n  var path = urlWithoutSearch.split(delimiter)[1];\n  if (path === undefined) {\n    path = urlWithoutSearch;\n  }\n  if (path === '/') {\n    path = '';\n  }\n  if (path[path.length - 1] === '/') {\n    path = path.slice(0, -1);\n  }\n  return {\n    path,\n    params\n  };\n};\n\nvar createPathParser = exports.createPathParser = (childRouters, routeConfigs, { paths: pathConfigs = {}, disableRouteNamePaths }) => {\n  var pathsByRouteNames = {};\n  var paths = [];\n\n  // Build pathsByRouteNames, which includes a regex to match paths for each route. Keep in mind, the regex will pass for the route and all child routes. The code that uses pathsByRouteNames will need to also verify that the child router produces an action, in the case of isPathMatchable false (a null path).\n  Object.keys(childRouters).forEach(routeName => {\n    var pathPattern = void 0;\n\n    // First check for paths on the router, then check the route config\n    if (pathConfigs[routeName] !== undefined) {\n      pathPattern = pathConfigs[routeName];\n    } else {\n      pathPattern = routeConfigs[routeName].path;\n    }\n\n    if (pathPattern === undefined) {\n      // If the user hasn't specified a path at all nor disableRouteNamePaths, then we assume the routeName is an appropriate path\n      pathPattern = disableRouteNamePaths ? null : routeName;\n    }\n\n    (0, _invariant2.default)(pathPattern === null || typeof pathPattern === 'string', `Route path for ${routeName} must be specified as a string, or null.`);\n\n    // the path may be specified as null, which is similar to empty string because it allows child routers to handle the action, but it will not match empty paths\n    var isPathMatchable = pathPattern !== null;\n    // pathPattern is a string with inline params, such as people/:id/*foo\n    var exactReKeys = [];\n    var exactRe = isPathMatchable ? (0, _pathToRegexp2.default)(pathPattern, exactReKeys) : null;\n    var extendedPathReKeys = [];\n    var isWildcard = pathPattern === '' || !isPathMatchable;\n    var extendedPathRe = (0, _pathToRegexp2.default)(isWildcard ? '*' : `${pathPattern}/*`, extendedPathReKeys);\n\n    pathsByRouteNames[routeName] = {\n      exactRe,\n      exactReKeys,\n      extendedPathRe,\n      extendedPathReKeys,\n      isWildcard,\n      toPath: pathPattern === null ? () => '' : (0, _pathToRegexp.compile)(pathPattern)\n    };\n  });\n\n  paths = Object.entries(pathsByRouteNames);\n\n  var getActionForPathAndParams = (pathToResolve = '', inputParams = {}) => {\n    // Attempt to match `pathToResolve` with a route in this router's routeConfigs, deferring to child routers\n\n    for (var [routeName, path] of paths) {\n      var { exactRe, exactReKeys, extendedPathRe, extendedPathReKeys } = path;\n      var childRouter = childRouters[routeName];\n\n      var exactMatch = exactRe && exactRe.exec(pathToResolve);\n\n      if (exactMatch && exactMatch.length) {\n        var extendedMatch = extendedPathRe && extendedPathRe.exec(pathToResolve);\n        var childAction = null;\n        if (extendedMatch && childRouter) {\n          var restOfPath = getRestOfPath(extendedMatch, extendedPathReKeys);\n          childAction = childRouter.getActionForPathAndParams(restOfPath, inputParams);\n        }\n\n        return _NavigationActions2.default.navigate({\n          routeName,\n          params: getParamsFromPath(inputParams, exactMatch, exactReKeys),\n          action: childAction\n        });\n      }\n    }\n\n    for (var [_routeName, _path] of paths) {\n      var { extendedPathRe: _extendedPathRe, extendedPathReKeys: _extendedPathReKeys } = _path;\n      var _childRouter = childRouters[_routeName];\n\n      var _extendedMatch = _extendedPathRe && _extendedPathRe.exec(pathToResolve);\n\n      if (_extendedMatch && _extendedMatch.length) {\n        var _restOfPath = getRestOfPath(_extendedMatch, _extendedPathReKeys);\n        var _childAction = null;\n        if (_childRouter) {\n          _childAction = _childRouter.getActionForPathAndParams(_restOfPath, inputParams);\n        }\n        if (!_childAction) {\n          continue;\n        }\n        return _NavigationActions2.default.navigate({\n          routeName: _routeName,\n          params: getParamsFromPath(inputParams, _extendedMatch, _extendedPathReKeys),\n          action: _childAction\n        });\n      }\n    }\n\n    return null;\n  };\n  var getPathAndParamsForRoute = route => {\n    var { routeName, params } = route;\n    var childRouter = childRouters[routeName];\n    var { toPath, exactReKeys } = pathsByRouteNames[routeName];\n    var subPath = toPath(params);\n    var nonPathParams = {};\n    if (params) {\n      Object.keys(params).filter(paramName => !exactReKeys.find(k => k.name === paramName)).forEach(paramName => {\n        nonPathParams[paramName] = params[paramName];\n      });\n    }\n    if (childRouter) {\n      // If it has a router it's a navigator.\n      // If it doesn't have router it's an ordinary React component.\n      var child = childRouter.getPathAndParamsForState(route);\n      return {\n        path: subPath ? `${subPath}/${child.path}` : child.path,\n        params: child.params ? _extends({}, nonPathParams, child.params) : nonPathParams\n      };\n    }\n    return {\n      path: subPath,\n      params: nonPathParams\n    };\n  };\n  return { getActionForPathAndParams, getPathAndParamsForRoute };\n};"]},"metadata":{},"sourceType":"script"}